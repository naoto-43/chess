<div class="col-md-8 mx-auto mb-3" style="min-height: 300px; overflow-y: auto;">
  <%= link_to post_path(post), id: "post-link-#{post.id}", class: 'text-decoration-none text-dark' do %>
    <div id="post-id-<%= post.id %>">
      <div class="card" style="min-height: 300px;"> <!-- ここでカード全体の最小高さを設定 -->
        <div class="card-body d-flex">
          <div class="content" style="flex-basis: 65%;">
            <h4 class="card-title" style="font-size: 18px;">
                <%= simple_format(truncate(post.lyricks, length: 100, separator: ' ', omission: '…'), {}, wrapper_tag: "div") %>
            </h4>     
            <p class="card-text"><%= simple_format(post.song_title) %></p>
            <%= render 'crud_menus', post: post if current_user&.own?(post) %>
            <ul class="list-inline">
              <li class="list-inline-item">
                <%= icon 'far', 'user', style: "font-size: 12px;" %>
                <%= post.user.email %>
              </li>
              <li class="list-inline-item">
                <%= icon 'far', 'calendar' %>
                <%= l post.created_at, format: :long %>
              </li>
            </ul>
          </div>
          <div class="spotify-embed" style="flex-basis: 35%"> <!-- 常に一定の高さを確保 -->
            <% if post.link_to_music.include?("spotify.com") %>
              <iframe src="https://open.spotify.com/embed/track/<%= post.link_to_music.split("/").last %>" width="100%" height="100%" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe>
            <% else %>
              <!-- 埋め込みがない場合でもエリアを確保 -->
            <% end %>
          </div>
        </div>
      </div>
    </div>
  <% end %>
</div>
